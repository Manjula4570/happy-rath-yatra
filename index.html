<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rath Yatra Wishes</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            background-color: #FFDEAD; /* Navajowhite - a light, somewhat traditional color */
            color: #5C3317; /* Dark Brown */
            margin: 0;
            padding: 20px;
            text-align: center;
            overflow-x: hidden; /* For animations */
        }
        .container {
            background-color: #FFF8DC; /* Cornsilk */
            border: 2px solid #FF8C00; /* DarkOrange */
            border-radius: 15px;
            padding: 20px;
            max-width: 600px;
            margin: 20px auto;
            box-shadow: 0 0 15px rgba(0,0,0,0.2);
        }
        #mainImage {
            max-width: 100%;
            height: auto;
            border-radius: 10px;
            margin-bottom: 20px;
            border: 3px solid #DAA520; /* Goldenrod */
        }
        .input-area input[type="text"] {
            padding: 10px;
            margin-top: 10px;
            border: 1px solid #FF8C00;
            border-radius: 5px;
            width: calc(100% - 22px);
            box-sizing: border-box;
        }
        .input-area button, .whatsapp-button {
            background-color: #FF7F50; /* Coral */
            color: white;
            border: none;
            padding: 12px 20px;
            margin-top: 15px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            transition: background-color 0.3s ease;
        }
        .input-area button:hover, .whatsapp-button:hover {
            background-color: #FF6347; /* Tomato */
        }
        #greetingMessage {
            font-size: 1.8em;
            font-weight: bold;
            color: #D2691E; /* Chocolate */
            margin-bottom: 15px;
            min-height: 50px; /* Space for animation */
        }
        #shareSection {
            margin-top: 20px;
            padding: 10px;
            background-color: #FFFACD; /* LemonChiffon */
            border: 1px dashed #FFD700; /* Gold */
            border-radius: 5px;
        }
        #shareSection input[type="text"] {
            width: calc(100% - 100px);
            padding: 8px;
            margin-right: 10px;
            border: 1px solid #ccc;
            border-radius: 4px;
        }
        #shareSection button {
            padding: 8px 10px;
        }
        .whatsapp-button {
            display: inline-block;
            background-color: #25D366; /* WhatsApp Green */
            text-decoration: none;
            margin-left: 10px;
        }
        .whatsapp-button:hover {
            background-color: #128C7E;
        }

        /* Animation */
        .animated-text-char {
            display: inline-block;
            opacity: 0;
            animation: fadeInChar 0.2s forwards;
        }

        @keyframes fadeInChar {
            to {
                opacity: 1;
            }
        }

        /* Religious elements - example */
        body::before {
            content: "ॐ"; /* Om symbol */
            position: fixed;
            top: 10px;
            left: 10px;
            font-size: 2em;
            color: rgba(255, 140, 0, 0.5); /* DarkOrange with alpha */
            z-index: -1;
        }
        body::after {
            content: "卐"; /* Swastika - if font supports it */
            position: fixed;
            bottom: 10px;
            right: 10px;
            font-size: 2em;
            color: rgba(255, 140, 0, 0.5);
            z-index: -1;
        }

    </style>
</head>
<body>

    <div class="container">
        <h1 id="greetingMessage">Rath Yatra Wishes!</h1>

        <img id="mainImage" src="data:image/jpeg;base64,PLACEHOLDER_FOR_YOUR_IMAGE_BASE64_STRING" alt="Rath Yatra">
        <!-- Convert your image (a2f98bad461ab461ab42768d9abc8b362e36c) to Base64 -->
        <!-- and replace 'PLACEHOLDER_FOR_YOUR_IMAGE_BASE64_STRING' with it. -->
        <!-- Ensure 'data:image/jpeg;base64,' or 'data:image/png;base64,' is correct for your image type. -->

        <div class="input-area">
            <label for="nameInput">Your Good Name:</label>
            <input type="text" id="nameInput" placeholder="Enter your name here">
            <button id="generateLinkButton">Create & Share Greeting</button>
        </div>

        <div id="shareSection" style="display:none;">
            <p>Your greeting link is ready:</p>
            <input type="text" id="generatedLink" readonly>
            <button id="copyLinkButton">Copy Link</button>
            <a id="whatsappShareLink" href="#" target="_blank" class="whatsapp-button">Share on WhatsApp</a>
        </div>
    </div>

    <audio id="backgroundMusic" loop>
        <!-- Convert a small royalty-free religious audio (MP3) to Base64 -->
        <!-- and replace 'PLACEHOLDER_FOR_YOUR_AUDIO_BASE64_STRING' with it. -->
        <!-- Or link to a small royalty-free audio file here if not using Base64 for audio. -->
        <source src="data:audio/mpeg;base64,PLACEHOLDER_FOR_YOUR_AUDIO_BASE64_STRING" type="audio/mpeg">
        <!-- Example of a very short silent MP3 Base64 (replace with actual music):
        <source src="data:audio/mpeg;base64,SUQzBAAAAAABEVRYWFgAAAAtAAADY29tbWVudABCaWdTb3VuZEJhbmsuY29tIC8gTGFTb25vdGhlcXVlLm9yZwBURU5DAAAAHQAAA1N3aXRjaCBDb21tbUNITYAAAADEAAAP4LAMSAAAAAAEAAADVAQEABAAAAAAAAAAAAQAAAAAAAABDTEFQU0VAAAAPAAAAAwAAAAPP8AAAAAABEQBTVEsAAAAuAAAAAwAAAE1BVoAAAAAAACAAAE1DNAAAAAAADBMAAAABAAAAAAAAAAAFEbwAAAAAAAAvERBEAwAAAgAAAwAAMASAcJz/PkAAAAgAAAAAAAAAADAgCAIAAABAEAAAACAAAEAEAAAAAAABAAAAAQAAAAAAAAAAAABRTEFNUwAAAAMAAAARAAAAAaAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEUAAAACAAAAAEEAAQAAHAF///4AAAAAAA==" type="audio/mpeg"> -->
        Your browser does not support the audio element.
    </audio>

    <script>
        const nameInput = document.getElementById('nameInput');
        const generateLinkButton = document.getElementById('generateLinkButton');
        const greetingMessageElement = document.getElementById('greetingMessage');
        const shareSection = document.getElementById('shareSection');
        const generatedLinkInput = document.getElementById('generatedLink');
        const copyLinkButton = document.getElementById('copyLinkButton');
        const whatsappShareLink = document.getElementById('whatsappShareLink');
        const backgroundMusic = document.getElementById('backgroundMusic');

        // Function to get URL parameters
        function getQueryParam(param) {
            const urlParams = new URLSearchParams(window.location.search);
            return urlParams.get(param);
        }

        // Function to animate text
        function animateText(element, text) {
            element.innerHTML = ''; // Clear previous text
            let delay = 0;
            for (let i = 0; i < text.length; i++) {
                const charSpan = document.createElement('span');
                charSpan.className = 'animated-text-char';
                charSpan.textContent = text[i] === ' ' ? '\u00A0' : text[i]; // Use non-breaking space for spaces
                charSpan.style.animationDelay = ${delay}s;
                element.appendChild(charSpan);
                delay += 0.05; // Slight delay between each character
            }
        }
        
        // On page load
        window.onload = () => {
            const senderName = getQueryParam('sender');
            let initialGreeting = "Happy Rath Yatra!"; // Default greeting

            if (senderName) {
                const decodedSenderName = decodeURIComponent(senderName);
                initialGreeting = Jai Jagannath! Happy Rath Yatra! From ${decodedSenderName}.;
                // Try to play music automatically when someone arrives via a link
                // This might not always work due to browser policies; user interaction might be needed
                playMusicWithInteraction();
            }
            animateText(greetingMessageElement, initialGreeting);

            // If on GitHub Pages and no interaction yet, music might not play.
            // Attempt to play music once the user clicks anywhere on the body.
            document.body.addEventListener('click', playMusicOnce, { once: true });
        };

        function playMusicOnce() {
            if (backgroundMusic.paused) {
                backgroundMusic.play().catch(e => console.log("Autoplay_music_blocked_by_browser:", e));
            }
        }
        
        function playMusicWithInteraction() {
            // Browsers may require user interaction to play audio
            const promise = backgroundMusic.play();
            if (promise !== undefined) {
                promise.then(_ => {
                    // Autoplay started
                }).catch(error => {
                    // Autoplay was prevented.
                    console.log("Music autoplay was prevented:", error);
                    // You could show a "Play Music" button here
                });
            }
        }

        generateLinkButton.addEventListener('click', () => {
            const userName = nameInput.value.trim();
            if (!userName) {
                alert("Please enter your name.");
                return;
            }

            const encodedUserName = encodeURIComponent(userName);
            const baseLink = window.location.href.split('?')[0]; // Base part of the current URL
            const shareableLink = ${baseLink}?sender=${encodedUserName};

            generatedLinkInput.value = shareableLink;

            // WhatsApp share message
            const whatsappMessage = 🎉 Happy Rath Yatra! From ${userName}. 🙏\n\nClick to see this special message:\n${shareableLink};
            whatsappShareLink.href = https://api.whatsapp.com/send?text=${encodeURIComponent(whatsappMessage)};

            shareSection.style.display = 'block';
            if (backgroundMusic.paused) { // If music is paused, try to play it when the link is first generated
                playMusicWithInteraction();
            }
        });

        copyLinkButton.addEventListener('click', () => {
            generatedLinkInput.select();
            generatedLinkInput.setSelectionRange(0, 99999); // For mobile devices
            try {
                document.execCommand('copy');
                alert("Link copied!");
            } catch (err) {
                alert("Unable to copy link. Please copy it manually.");
            }
        });

    </script>
</body>
</html>
<script async="async" data-cfasync="false" src="//pl26214361.profitableratecpm.com/be357bf91760d442990ce3121a3a6857/invoke.js"></script>
<div id="container-be357bf91760d442990ce3121a3a6857"></div>
